function clearItem(){localStorage.removeItem("blogbg"),localStorage.removeItem("universe"),localStorage.removeItem("blur"),localStorage.removeItem("fpson"),localStorage.removeItem("transNum"),localStorage.removeItem("bing"),localStorage.removeItem("blurRad"),localStorage.removeItem("font"),localStorage.removeItem("themeColor"),localStorage.removeItem("rs"),localStorage.removeItem("mouse")}function setFont(e){localStorage.setItem("font",e),"default"==e?(document.documentElement.style.setProperty("--global-font","-apple-system"),document.body.style.fontFamily="-apple-system, Consolas_1, BlinkMacSystemFont, 'Segoe UI' , 'Helvetica Neue' , Lato, Roboto, 'PingFang SC' , 'Microsoft JhengHei' , 'Microsoft YaHei' , sans-serif"):(document.documentElement.style.setProperty("--global-font",e),document.body.style.fontFamily="var(--global-font),-apple-system, IBM Plex Mono ,monosapce,'微软雅黑', sans-serif");try{setFontBorder()}catch(e){}}function setFontBorder(){var e="swf_"+localStorage.getItem("font");document.getElementById(e).style.border="2px solid var(--theme-color)",Array.prototype.forEach.call(document.getElementsByClassName("swf"),(function(t){t.id!=e&&(t.style.border="2px solid var(--border-color)")}))}function setColor(e){document.getElementById("themeColor").innerText=":root{--theme-color:"+map.get(e)+" !important}",localStorage.setItem("themeColor",e),CURSOR.refresh();var t=map.get(e),o="rgba"+t.substring(3,t.length-1)+", 0.7)";document.documentElement.style.setProperty("--text-bg-hover",o)}null==localStorage.getItem("font")&&localStorage.setItem("font","-apple-system"),setFont(localStorage.getItem("font")),null==localStorage.getItem("themeColor")&&localStorage.setItem("themeColor","#fe902f"),setColor(localStorage.getItem("themeColor"));var defineColor=localStorage.getItem("blogbg")&&"#"==localStorage.getItem("blogbg").charAt(0)?localStorage.getItem("blogbg"):"#F4D88A";function changeBgColor(){changeBg(document.querySelector("#colors").value)}if(null!=localStorage.getItem("blogbg")){let e=localStorage.getItem("blogbg");document.getElementById("defineBg").innerText=`:root{\n      --default-bg: ${e};\n      --darkmode-bg: ${e};\n      --mobileday-bg: ${e};\n      --mobilenight-bg: ${e};\n    }`,changeBg(e)}else document.getElementById("defineBg").innerText=":root{\n      --default-bg: url(/assets/top_index.png);\n      --darkmode-bg:url(/assets/top_index.png);\n      --mobileday-bg: url(/assets/top_index.png);\n      --mobilenight-bg: url(/assets/top_index.png);\n    }";function changeBg(e){let t=document.getElementById("web_bg");"#"==e.charAt(0)?(t.style.backgroundColor=e,t.style.backgroundImage="none",defineColor=e):(t.style.backgroundImage=e,defineColor="#F4D88A"),localStorage.setItem("blogbg",e),localStorage.setItem("bing","false"),document.getElementById("bingSet")&&(document.getElementById("bingSet").checked=!1)}function getPicture(){debounce(getPicture_,300)}function getPicture_(){let e=document.getElementById("web_bg");checkImgExists(document.getElementById("pic-link").value).then((()=>{var t="url("+document.getElementById("pic-link").value+")";e.style.backgroundImage=t,localStorage.setItem("blogbg",t),localStorage.setItem("bing","false"),document.getElementById("bingSet")&&(document.getElementById("bingSet").checked=!1),new Vue({data:function(){this.$notify({title:"可以啦🍨",message:"切换自定义背景成功！",position:"top-left",offset:50,showClose:!0,type:"success",duration:5e3})}})})).catch((()=>{new Vue({data:function(){this.$notify({title:"链接不对🤣",message:"请输入有效的图片链接！",position:"top-left",offset:50,showClose:!0,type:"warning",duration:5e3})}})}))}function checkImgExists(e){return new Promise((function(t,o){var l=new Image;l.src=e,l.onload=function(e){t(e)},l.onerror=function(e){o(e)}}))}